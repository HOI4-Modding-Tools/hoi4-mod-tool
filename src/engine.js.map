{"version":3,"file":"engine.js","sourceRoot":"","sources":["engine.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uBAA0B;AAC1B,4BAA8B;AAC9B,uBAAyB;AACzB,yBAA2B;AAC3B,0BAA4B;AAC5B,uDAAkD;AAClD,6CAAwC;AACxC,yDAAoD;AACpD,iCAAoC;AAEpC;IAA4C,kCAAY;IAMpD,wBAAY,mBAAmB;QAA/B,YACI,iBAAO,SAMV;QAZgB,UAAI,GAAkC,EAAE,CAAC;QACzC,uBAAiB,GAAkC,EAAE,CAAC;QAMnE,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAC,UAAU;YAC7B,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,KAAI,CAAC,EAAE,CAAC,sBAAsB,EAAE,KAAI,CAAC,qBAAqB,CAAC,CAAC;QAC5D,KAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,2BAA2B,CAAC,CAAC;;IAC3F,CAAC;IAEM,mCAAU,GAAjB;QACI,IAAM,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,4BAA4B,CAAC,CAAC;QAClF,IAAI,EAAE,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;YACnC,OAAO,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAC;YAChE,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC,CAAC;YAC7E,OAAO,CAAC,GAAG,CAAC,sEAAsE,CAAC,CAAC;YACpF,KAAK,IAAM,QAAQ,IAAI,YAAY,EAAE;gBACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;aACtD;YACD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;YACrC,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;IACL,CAAC;IAED,8CAAqB,GAArB;QACI,IAAM,mBAAmB,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QAChF,KAAwB,UAAmB,EAAnB,2CAAmB,EAAnB,iCAAmB,EAAnB,IAAmB,EAAE;YAAxC,IAAM,SAAS,4BAAA;YAChB,IAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC,CAAC;YACrF,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;gBACpB,IAAI,CAAC,YAAY,CACb,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC,CAAC;aACnE;SACJ;IACL,CAAC;IAEO,qCAAY,GAApB,UAAqB,SAAiB;QAClC,IAAM,gBAAgB,GAAG,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,aAAa,GAAkB,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;QAEzE,sCAAsC;QACtC,IAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;QAC3E,IAAI,SAAS,GAAwC,EAAE,CAAC;QACxD,IAAI,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;YAC7B,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,YAAY,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,kBAAQ,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QACvE,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,kBAAQ,CAAC,aAAa,eAAM,SAAS,EAAE,CAAC;IAC7F,CAAC;IAED,8CAAqB,GAArB,UAAsB,SAAS;QAC3B,OAAO,uBAAa,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,gBAAgB,CAAC,EAAE,OAAO,CAAC,EAAE,SAAS,CAAC,CAAC;IAC7G,CAAC;IAED,gCAAO,GAAP;QACI,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,+BAAM,GAAN,UAAO,OAAe;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAED,sCAAa,GAAb,UAAc,GAAW,EAAE,IAAY,EAAE,MAAW;QAChD,IAAM,SAAS,GAAa,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAG,SAAS,EAAE;YACV,QAAQ,IAAI,EAAE;gBACV,KAAK,WAAW;oBACZ,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,wBAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC/D,MAAM;gBACV;oBACI,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,GAAG,gBAAgB,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;SACtC;IACL,CAAC;IAED,qCAAY,GAAZ,UAAa,GAAW,EAAE,IAAY,EAAE,MAAc;QAClD,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,SAAS,EAAE;YACX,IAAM,cAAc,GAAG,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;YAC7C,IAAI,cAAc,EAAE;gBAChB,OAAO,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;aACtC;SACJ;IACL,CAAC;IAEO,iDAAwB,GAAhC,UAAiC,SAAiB;QAC9C,IAAI,iBAAiB,GAAG,EAAE,CAAC;QAC3B,KAAmB,UAAyB,EAAzB,KAAA,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,EAAzB,cAAyB,EAAzB,IAAyB,EAAE;YAAzC,IAAM,IAAI,SAAA;YACX,IAAM,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACvF,IAAI,IAAI,GAAa,EAAE,CAAC;YACxB,IAAI,cAAc,SAAA,CAAC;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzI,IAAM,aAAa,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC/C,IAAI,CAAC,IAAI,CAAC,EAAE;oBACR,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;wBACvC,MAAM,IAAI,KAAK,CAAC,qEAAqE,CAAC,CAAC;qBAC1F;yBAAM;wBACH,SAAS;qBACZ;iBACJ;gBACD,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC1B,SAAS;iBACZ;gBACD,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;oBAC9C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACvB,cAAc,GAAG;wBACb,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;qBACzB,CAAC;oBACF,SAAS;iBACZ;gBACD,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;oBACnC,QAAQ,aAAa,CAAC,CAAC,CAAC,EAAE;wBACtB,KAAK,cAAc;4BACf,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;gCAC5B,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC;6BACrC;iCAAM;gCACH,OAAO,CAAC,IAAI,CAAC,yFAAyF,CAAC,CAAC;6BAC3G;4BACD,MAAM;wBACV,KAAK,cAAc;4BACf,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;gCAC3B,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC;6BACtC;iCAAM;gCACH,OAAO,CAAC,IAAI,CAAC,wFAAwF,CAAC,CAAC;6BAC1G;4BACD,MAAM;wBACV,KAAK,MAAM;4BACP,IAAI,CAAC,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,cAAc,EAAE,aAAa,EAAE,SAAS,EAAE,iBAAiB,EAAE,kBAAkB;gCACnM,eAAe,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;gCAC/G,cAAc,CAAC,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;6BAC1C;iCAAM;gCACH,OAAO,CAAC,IAAI,CAAC,gBAAgB,GAAG,aAAa,CAAC,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;6BACxE;4BACD,MAAM;wBACV,KAAK,UAAU;4BACX,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BACtB,MAAM;wBACV,KAAK,UAAU,CAAC;wBAChB,KAAK,WAAW,CAAC;wBACjB,KAAK,oBAAoB;4BACrB,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;4BAClE,MAAM;wBACV,KAAK,aAAa,CAAC;wBACnB,KAAK,eAAe,CAAC;wBACrB,KAAK,SAAS,CAAC;wBACf,KAAK,cAAc,CAAC;wBACpB,KAAK,kBAAkB,CAAC;wBACxB,KAAK,iBAAiB,CAAC;wBACvB,KAAK,eAAe,CAAC;wBACrB,KAAK,aAAa,CAAC;wBACnB,KAAK,aAAa,CAAC;wBACnB,KAAK,YAAY;4BACb,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;4BACrF,MAAM;wBACV,KAAK,WAAW;4BACZ,cAAc,CAAC,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;4BACtE,MAAM;wBACV,KAAK,WAAW;4BACZ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BACvB,MAAM;wBACV,KAAK,GAAG;4BACJ,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,wBAAc,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;4BAC7E,cAAc,GAAG,EAAE,CAAC;4BACpB,IAAI;iCACC,GAAG,EAAE,CAAC;4BACX,MAAM;wBACV;4BACI,OAAO,CAAC,GAAG,CAEP,oBAAoB;;oCAEpB,aAAa,CACR,CAAC,CAAC,CACV,CAAC;4BACF,MAAM;qBACb;oBACD,SAAS;iBACZ;gBAED,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;oBAClC,QAAQ,aAAa,CAAC,CAAC,CAAC,EAAE;wBACtB,KAAK,GAAG;4BACJ,IAAI,CAAC,GAAG,EAAE,CAAC;4BACX,MAAM;qBACb;oBACD,SAAS;iBACZ;gBACD,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;oBACnC,QAAQ,aAAa,CAAC,CAAC,CAAC,EAAE;wBACtB,KAAK,GAAG;4BACJ,IAAI,CAAC,GAAG,EAAE,CAAC;4BACX,MAAM;qBACb;oBACD,SAAS;iBACZ;aACJ;SACJ;QACD,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAEO,qCAAY,GAApB,UAAqB,GAAa;QAC9B,IAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,kBAAQ,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QACpG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE;YAC9B,IAAM,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,WAAW,EAAE,kBAAkB,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;YACxG,aAAa;YACb,EAAE,CAAC,SAAS,CAAC,iBAAiB,EAAE;gBAC5B,SAAS,EAAE,IAAI;aAClB,CAAC,CAAC;YAEH,aAAa;YACb,EAAE,CAAC,SAAS,CAAC,iBAAiB,EAAE;gBAC5B,SAAS,EAAE,IAAI;aAClB,CAAC,CAAC;YAEH,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC,CAAC;YAEpG,aAAa;YACb,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,EAAE;gBACxE,SAAS,EAAE,IAAI;aAClB,CAAC,CAAC;YAEH,IAAM,gBAAgB,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YACtG,KAAmB,UAAgB,EAAhB,qCAAgB,EAAhB,8BAAgB,EAAhB,IAAgB,EAAE;gBAAjC,IAAI,OAAO,yBAAA;gBACX,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC;aACxG;YAED,KAAK,IAAI,SAAS,IAAI,GAAG,CAAC,SAAS,EAAE;gBACjC,IAAM,gBAAgB,GAAG,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,eAAe,EAAE,CAAC;gBAEpE,0BAA0B;gBAC1B,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAE,SAAS,GAAG,MAAM,CAAC,EAAE,gBAAgB,EAAE;oBAClH,UAAU,EAAE,MAAM;iBACrB,CAAC,CAAC;aACN;YACD,GAAG,CAAC,iBAAiB,EAAE,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,kBAAQ,CAAC,IAAI,uBAAa,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,YAAY,EAAE,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAC7N,GAAG,CAAC,SAAS,EAAE,CAAC;SAC3B;IACL,CAAC;IAEO,8CAAqB,GAA7B;QACI,IAAM,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,yBAAyB,EAAE,wBAAwB,EAAE,UAAA,GAAG;YACtE,IAAI,CAAC,GAAG,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;aAC7C;iBAAM;gBACH,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aACtB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IACL,qBAAC;AAAD,CAAC,AAnQD,CAA4C,qBAAY,GAmQvD"}